<script>
	import MSTTeamChatPostCell from '../components/MSTTeamChatPostCell.svelte';

	let loggedinuser = {
		name: 'Loreley',
		pfp: 'https://www.gravatar.com/avatar/1615be3776f4bdfa985afdea244eb1b3',
		status: 'online',
	};
</script>

<mstteamchat>
	<messageslist>
		<MSTTeamChatPostCell
			user={loggedinuser}
			message={{
				timestamp: 1629394402,
				message:
					'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vitae mattis lectus. Fusce at finibus dui. Nam scelerisque orci magna, nec porttitor turpis mattis at. Sed ultrices elit quam, nec aliquet magna egestas efficitur. Integer venenatis est id metus bibendum pretium. Praesent at urna eu orci molestie molestie sed non orci. Vestibulum eu dui sed orci sollicitudin aliquet vitae eu ante. Quisque vitae rutrum nulla, sed fringilla lectus. In facilisis nibh nisl, vel dignissim erat molestie ut. Aenean at massa et leo finibus accumsan. Phasellus congue quis libero sit amet sodales. Donec ultricies commodo quam, vel eleifend purus dignissim vitae. Nam laoreet, sem a volutpat interdum, nibh quam faucibus est, sit amet hendrerit ligula augue quis nunc. Duis a lacus tellus. ',
				title: 'A very important message',
				postedbyme: true,
				replies: [
					{
						user: {
							name: 'Barack Obama',
							pfp: 'https://www.whitehouse.gov/wp-content/uploads/2021/01/44_barack_obama.jpg',
							status: 'dnd',
						},
						timestamp: 1629394978,
						message: 'wow, so much text',
						postedbyme: false,
					},
					{
						user: {
							name: 'Tim Cook',
							pfp: 'https://pbs.twimg.com/profile_images/1403556543098916872/83tVAzyy.jpg',
							status: 'away',
						},
						timestamp: 1629395278,
						message: 'why am I even here?!',
					},
				],
			}}
		/>
		<button class="new-conversation">
			<newconversationbutton>
				<svg
					viewBox="-6 -6 32 32"
					class="app-svg icons-compose"
					focusable="false"
					role="presentation"
					><g class="icons-default-fill"
						><path
							class="icons-filled"
							d="M6.50061 4.00172L10.9998 4.00057C11.414 4.00057 11.7499 4.33617 11.75 4.75038C11.7501 5.13008 11.468 5.44394 11.102 5.4937L11.0002 5.50057L6.51667 5.50155C6.13457 5.50964 6.01046 5.53716 5.87106 5.61171C5.75732 5.67254 5.67254 5.75732 5.61171 5.87106C5.55823 5.97107 5.52714 6.06976 5.51189 6.26194L5.50459 6.38922L5.5 6.67272L5.50155 13.4833C5.50964 13.8654 5.53716 13.9895 5.61171 14.1289C5.67254 14.2427 5.75732 14.3275 5.87106 14.3883C5.97107 14.4418 6.06976 14.4729 6.26199 14.4881L6.38931 14.4954L6.67291 14.5H13.3271L13.6107 14.4954C13.8908 14.4844 14.0089 14.4525 14.1289 14.3883C14.2427 14.3275 14.3275 14.2427 14.3883 14.1289C14.4418 14.0289 14.4729 13.9302 14.4881 13.738L14.4954 13.6107L14.5 13.3271V9C14.5 8.58579 14.8358 8.25 15.25 8.25C15.6297 8.25 15.9435 8.53215 15.9932 8.89823L16 9V13.3271C16 14.0499 15.9256 14.435 15.711 14.8363C15.5104 15.2115 15.2115 15.5104 14.8363 15.711C14.4796 15.9018 14.1357 15.9817 13.556 15.9972L13.3271 16H6.67291C5.95008 16 5.56498 15.9256 5.16367 15.711C4.78852 15.5104 4.48962 15.2115 4.28899 14.8363C4.11447 14.51 4.03344 14.1957 4.00851 13.6959L4.00172 13.4994L4 6.67291C4 5.95008 4.07437 5.56498 4.28899 5.16367C4.48962 4.78852 4.78852 4.48962 5.16367 4.28899C5.48998 4.11447 5.80427 4.03344 6.30409 4.00851L6.50061 4.00172L10.9998 4.00057L6.50061 4.00172ZM9.35355 9.58363L15.7175 3.21967C16.0104 2.92678 16.4853 2.92678 16.7782 3.21967C17.0444 3.48594 17.0686 3.9026 16.8508 4.19621L16.7782 4.28033L10.4142 10.6443L9 10.9978L9.35355 9.58363L15.7175 3.21967L9.35355 9.58363Z"
						/><path
							class="icons-unfilled"
							d="M11.5 4C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H6.5C5.67157 5 5 5.67157 5 6.5V13.5C5 14.3284 5.67157 15 6.5 15H13.5C14.3284 15 15 14.3284 15 13.5V8.5C15 8.22386 15.2239 8 15.5 8C15.7761 8 16 8.22386 16 8.5V13.5C16 14.8807 14.8807 16 13.5 16H6.5C5.11929 16 4 14.8807 4 13.5V6.5C4 5.11929 5.11929 4 6.5 4H11.5ZM16.1514 2.85355C16.3467 2.65829 16.6632 2.65829 16.8585 2.85355C17.0538 3.04882 17.0538 3.3654 16.8585 3.56066L9.78744 10.6317L8.90355 10.8085L9.08033 9.92462L16.1514 2.85355Z"
						/></g
					></svg
				>
				<p>New conversation</p>
			</newconversationbutton>
		</button>
	</messageslist>
</mstteamchat>

<style>
	mstteamchat {
		background-color: var(--ms-chatbg);
		width: calc(100% - 360px - 66px);
		display: flex;

		justify-content: center;
	}

	messageslist {
		width: 70%;
		position: relative;
	}

	newconversationbutton {
		display: flex;
		justify-content: center;
		width: 100%;
		height: 100%;
		margin: 0;
	}

	newconversationbutton svg {
		width: 35px;
		align-self: center;
		fill: white;
	}

	newconversationbutton p {
		margin-block-start: 0;
		margin-block-end: 0;
		color: white;
		font-size: 14px;
		align-self: center;
		text-align: center;
		margin-right: 8px;
	}

	.new-conversation {
		position: absolute;
		bottom: 20px;
		left: 20px;
		width: 190px;
		height: 38px;
		border-radius: 6px;
		background-color: #6264a7;
		border: none;
	}

	.new-conversation:hover {
		background-color: #464775;
	}

	@media (prefers-color-scheme: dark) {
		mstteamchat {
			background-color: #202020;
		}

		.new-conversation:hover {
			background-color: #9ea2ff;
		}
	}
</style>
